var satus={components:{},events:{},locale:{strings:{}},storage:{attributes:{},data:{}},getAnimationDuration:function(e){return 1e3*Number(window.getComputedStyle(e).getPropertyValue("animation-duration").replace(/[^0-9.]/g,""))},ajax:function(e,t,n){var a=new XMLHttpRequest;a.onload=function(){t(this.response)},a.onerror=function(){n(t)},a.open("GET",e,!0),a.send()},append:function(e,t){(t||document.body).appendChild(e)},attr:function(e,t){if(t)for(var n in t)if(e.is_svg)e.setAttributeNS(null,n,t[n]);else{var a=t[n];-1!==["placeholder","title"].indexOf(n)&&(a=satus.locale.get(a)),e.setAttribute(n,a)}},elementIndex:function(e){return Array.prototype.slice.call(e.parentNode.children).indexOf(e)},camelize:function(e){for(var t="",n=0,a=e.length;n<a;n++){var s=e[n];t+="-"===s?e[++n].toUpperCase():s}return t},class:function(e,t){t&&(e.className+=" "+t)},clone:function(e){for(var t=e.cloneNode(!0),n=window.getComputedStyle(e.parentNode),a=window.getComputedStyle(e),s="",o=0,r=a.length;o<r;o++){var i=a[o],u=a.getPropertyValue(i);"background-color"===i&&(u=n.getPropertyValue("background-color")),-1===["box-shadow","left","top","bottom","right","opacity"].indexOf(i)&&(s+=i+":"+u+";")}return t.setAttribute("style",s),t},data:function(e,t){if(t)for(var n in t)e.dataset[n]=t[n]},properties:function(e,t){if(t)for(var n in t)e[n]=t[n]},snakelize:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},empty:function(e,t=[]){for(var n=e.childNodes.length-1;n>-1;n--){var a=e.childNodes[n];-1===t.indexOf(a)&&a.remove()}}};Object.defineProperty(satus.events,"add",{value:function(e,t){!1===this.hasOwnProperty(e)&&(this[e]=[]),this[e].push(t)}}),satus.isset=function(e){return null!=e},satus.fetch=function(e,t,n){fetch(e).then((function(e){e.ok?e.json().then(t):n()})).catch((function(){n(t)}))},satus.on=function(e,t){if(this.isset(t)&&"object"==typeof t)for(var n in t){var a=typeof t[n];"selectionchange"===n&&(e=document),"function"===a?e.addEventListener(n,t[n]):"object"===a?e.addEventListener(n,(function(e){this.skeleton.on[e.type].parent=this.skeleton,"modal"!==this.skeleton.on[e.type].component&&this.base&&this.base.layers?this.base.layers.open(this.skeleton.on[e.type]):satus.render(this.skeleton.on[e.type],this.base)})):"string"===a&&e.addEventListener(n,(function(){for(var e=this.skeleton.on[event.type].match(/(["'`].+["'`]|[^.()]+)/g),t=this.base,n=0,a=e.length;n<a;n++){var s=e[n];t.skeleton[s]?t=t.skeleton[s]:"function"==typeof t[s]?t[s]():t=t[s],t.rendered&&(t=t.rendered)}}))}},satus.style=function(e,t){for(var n in t)e.style[n]=t[n]},satus.search=function(e,t,n){var a=["switch","select","slider","shortcut","radio","color-picker"],s=0,o={};e=e.toLowerCase(),function t(r,i){for(var u in s++,r)if("rendered"!==u&&"base"!==u&&"parent"!==u){var l=r[u];-1!==a.indexOf(l.component)&&-1!==u.indexOf(e)&&(o[u]=Object.assign({},l)),"object"==typeof l&&t(l,r)}0===--s&&n(o)}(t)},satus.parents=function(e,t){!function e(n,a){for(var s in n)if("rendered"!==s&&"base"!==s&&"parent"!==s){var o=n[s];(!0!==t||o.component)&&(o.parent=n),"object"==typeof o&&"shortcut"!==o.component&&e(o,n)}}(e)},satus.text=function(e,t){"function"==typeof t&&(t=t()),t&&e.appendChild(document.createTextNode(this.locale.get(t)))},satus.isArray=function(e){return!!Array.isArray(e)},satus.isNumber=function(e){return"number"==typeof e&&!1===isNaN(e)},satus.indexOf=function(e,t){var n=0;if(satus.isArray(t))n=t.indexOf(e);else for(;e=e.previousElementSibling;)n++;return n},satus.toIndex=function(e,t,n){satus.isArray(n)&&n.splice(e,0,n.splice(satus.indexOf(t,n),1)[0])},satus.remove=function(e,t){satus.isArray(t)&&t.splice(satus.indexOf(e,t),1)},satus.createElement=function(e,t){var n=document.createElement(e);return t&&(n.className="satus-"+t),n.add=function(e,t){var n=satus.createElement(e,t);return this.appendChild(n),n},n},satus.decrypt=async function(e,t){var n=e.slice(0,24).match(/.{2}/g).map((e=>parseInt(e,16))),a={name:"AES-GCM",iv:new Uint8Array(n)};try{var s=(new TextDecoder).decode(await crypto.subtle.decrypt(a,await crypto.subtle.importKey("raw",await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t)),a,!1,["decrypt"]),new Uint8Array(atob(e.slice(24)).match(/[\s\S]/g).map((e=>e.charCodeAt(0))))))}catch(e){return!1}return s},satus.encrypt=async function(e,t){var n=crypto.getRandomValues(new Uint8Array(12)),a={name:"AES-GCM",iv:n};return Array.from(n).map((e=>("00"+e.toString(16)).slice(-2))).join("")+btoa(Array.from(new Uint8Array(await crypto.subtle.encrypt(a,await crypto.subtle.importKey("raw",await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t)),a,!1,["encrypt"]),(new TextEncoder).encode(e)))).map((e=>String.fromCharCode(e))).join(""))},satus.storage.get=function(e){var t=satus.storage.data;if("string"==typeof e){for(var n=0,a=(e=e.split("/").filter((function(e){return""!=e}))).length;n<a;n++){if(!satus.isset(t[e[n]]))return;t=t[e[n]]}return t}},satus.storage.set=function(e,t,n){var a={},s=satus.storage.data;if("string"==typeof e){e=e.split("/").filter((function(e){return""!=e}));for(var o=0,r=e.length;o<r;o++){var i=e[o];o<r-1?(s[i]||(s[i]={}),s=s[i]):s[i]=t}for(var u in this.data)"function"!=typeof this.data[u]&&(a[u]=this.data[u]);satus.storage.attributes[e]&&document.body.setAttribute("data-"+e,t),chrome.storage.local.set(a,n)}},satus.storage.remove=function(e){delete this.data[e],chrome.storage.local.remove(e)},satus.storage.import=function(e,t){"function"==typeof e&&(t=e,e=void 0),chrome.storage.local.get(e,(function(e){for(var n in e)satus.storage.attributes[n]&&document.body.setAttribute("data-"+n,e[n]),satus.storage.data[n]=e[n];t&&t(e)}))},satus.storage.clear=function(e){this.data={},chrome.storage.local.clear(e)},satus.locale.get=function(e){return this.strings[e]||e},satus.locale.import=function(e,t,n){var a=e||window.navigator.language;0===a.indexOf("en")&&(a="en"),t||(t="_locales/"),satus.fetch(chrome.runtime.getURL(t+a+"/messages.json"),(function(e){for(var t in e)satus.locale.strings[t]=e[t].message;n()}),(function(e){satus.fetch(chrome.runtime.getURL(t+"en/messages.json"),e,(function(){e()}))}))},satus.render=function(e,t,n,a){var s;if(e.hasOwnProperty("component")&&!0!==n){var o=e.component,r=this.camelize(o);if(e.on&&e.on.beforerender&&e.on.beforerender(e),this.components[r]?(s=this.components[r](e),!1===this.isset(s.inner)&&(s.inner=s)):"svg"===o||t&&t.is_svg?((s=document.createElementNS("http://www.w3.org/2000/svg",o)).is_svg=!0,s.inner=s):(s=document.createElement(e.component)).inner=s,!1===s.inner.hasOwnProperty("base")&&t&&(s.inner.base=t.base),s.inner.base&&"layers"===o&&(s.inner.base.layers=s),e.rendered=s,s.skeleton=e,s.className=(s.className+" satus-"+e.component).trim(),e.variant&&(s.className+=" satus-"+e.component+"--"+e.variant),this.append(s,t),t=s.inner||s,this.class(s,e.class),this.style(s,e.style),this.attr(s,e.attr),this.data(s,e.data),this.properties(s,e.properties),this.on(s,e.on),this.text(t,e.text),!1===s.hasOwnProperty("storage")&&!1!==e.storage&&(s.storage=e.storage||a||!1),!1===s.hasOwnProperty("storageValue")&&(!1!==s.storage&&(s.storageValue=satus.storage.get(s.storage)),e.hasOwnProperty("value")&&void 0===s.storageValue&&(s.storageValue=e.value)),s.storageChange=function(){if(this.storage){var e=this.storage;"function"==typeof e&&(e=e()),satus.storage.set(e,this.storageValue)}this.dispatchEvent(new CustomEvent("change"))},s.dispatchEvent(new CustomEvent("render")),!0===e.autofocus&&s.focus(),this.events.hasOwnProperty("render"))for(var i=0,u=this.events.render.length;i<u;i++)this.events.render[i](s,e)}if(!s||!1!==s.render_children)for(var l in e)"parent"!==l&&e[l]&&e[l].hasOwnProperty("component")&&(e[l].parent=e,this.render(e[l],t,!1,l));return s},satus.color={},satus.color.rgbToHsl=function(e){var t=e[0]/255,n=e[1]/255,a=e[2]/255,s=Math.min(t,n,a),o=Math.max(t,n,a),r=0,i=0,u=(s+o)/2;if(s===o)r=0,i=0;else{var l=o-s;i=u<=.5?l/(o+s):l/(2-o-s),o===t?r=(n-a)/l+(n<a?6:0):o===n?r=(a-t)/l+2:o===a&&(r=(t-n)/l+4),r/=6}return r*=360,i*=100,u*=100,3===e.length?[r,i,u]:[r,i,u,e[3]]},satus.color.hueToRgb=function(e){var t=e[0],n=e[1],a=e[2];return a<0&&(a+=6),a>=6&&(a-=6),a<1?(n-t)*a+t:a<3?n:a<4?(n-t)*(4-a)+t:t},satus.color.hslToRgb=function(e){var t,n,a,s=e[0]/360,o=e[1]/100,r=e[2]/100;if(0==o)t=n=a=r;else{var i=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},u=r<.5?r*(1+o):r+o-r*o,l=2*r-u;t=i(l,u,s+1/3),n=i(l,u,s),a=i(l,u,s-1/3)}return[Math.round(255*t),Math.round(255*n),Math.round(255*a)]},satus.events.add("render",(function(e,t){if(!0===t.pluviam){function n(e){var t=document.createElement("span"),n=this.getBoundingClientRect(),a=e.clientX-n.left,s=e.clientY-n.top,o=Math.sqrt(Math.pow(2*n.width,2)+Math.pow(2*n.height,2));t.className="satus-pluviam",t.style.left=a-o/2+"px",t.style.top=s-o/2+"px",t.style.width=o+"px",t.style.height=o+"px",this.appendChild(t),setTimeout((function(){t.remove()}),1e3)}e.addEventListener("mousedown",n),e.addEventListener("mouseover",n)}})),satus.indexeddb={request:null},satus.indexeddb.open=function(e,t,n){var a=indexedDB.open(e);a.onerror=function(e){n()},a.onblocked=function(e){satus.indexeddb.open(n)},a.onsuccess=function(e){satus.indexeddb.request=this.result,n()},a.onupgradeneeded=function(e){for(var a in satus.indexeddb.request=this.result,t){var s=t[a];if(!this.result.objectStoreNames.contains(a))for(var o=this.result.createObjectStore(a,s.keyOptions),r=0,i=s.indexes.length;r<i;r++){var u=s.indexes[r];o.createIndex(u,u)}}this.result.onversionchange=function(e){satus.indexeddb.close(),satus.indexeddb.open(n)}}},satus.indexeddb.get=function(e,t){var n=[],a={};for(var s in e){var o=e[s];n.push({name:s,direction:o.direction,index:o.index,offset:o.offset})}!function e(){var s=n[0],o=satus.indexeddb.request.transaction(s.name,"readonly").objectStore(s.name),r=[],i=(s.offset,s.limit||100);s.index&&(o=o.index(s.index)),a[s.name]=r,o.openCursor(null,s.direction).onsuccess=function(u){var l=u.target.result;l?s.offset>0?(l.advance(s.offset),s.offset=0):r.length<i&&(r.push(l.value),l.continue()):o.count().onsuccess=function(s){r.fullLength=s.target.result,n.shift(),0===n.length?t(a):e()}}}()},satus.indexeddb.getByKey=function(e,t){var n=[],a={};for(var s in e)n.push({name:s,keys:e[s]});!function e(){var s=n[0],o=satus.indexeddb.request.transaction(s.name,"readonly").objectStore(s.name),r=[];a[s.name]=r;for(var i=0,u=s.keys.length;i<u;i++){var l=s.keys[i];o.get(l).onsuccess=function(s){var i=s.target.result;i&&r.push(i),o.count().onsuccess=function(s){r.fullLength=s.target.result,n.shift(),0===n.length?t(a):e()}}}}()},satus.indexeddb.set=function(e,t){var n=0;for(var a in e)for(var s=e[a],o=this.request.transaction(a,"readwrite").objectStore(a),r=0,i=s.length;r<i;r++){var u=o.put(s[r]);n++,u.onsuccess=function(){n--,t&&0===n&&t()},u.onerror=function(){n--,t&&0===n&&t()}}},satus.indexeddb.clear=function(e){"string"==typeof e&&(e=[e]);for(var t=0,n=e.length;t<n;t++){var a=e[t];satus.indexeddb.request.transaction(a,"readwrite").objectStore(a).clear()}},satus.indexeddb.delete=function(e,t){var n=[];for(var a in e){var s=e[a];for(var o in s)n.push({object_store_name:a,index_name:o,keys:s[o]})}!function e(){var a=n[0],s=satus.indexeddb.request.transaction(a.object_store_name,"readwrite").objectStore(a.object_store_name);a.index_name&&(s=s.index(a.index_name)),s.openCursor(null,a.direction).onsuccess=function(a){var s=a.target.result;s&&s.delete(),n.shift(),0===n.length?t():e()}}()},satus.indexeddb.search=function(e,t){var n=[],a={};for(var s in e){var o=e[s];n.push({name:s,direction:o.direction,index:o.index,offset:o.offset})}!function e(){var s=n[0],o=satus.indexeddb.request.transaction(s.name,"readonly").objectStore(s.name),r=[],i=(s.offset,s.limit||100);s.index&&(o=o.index(s.index)),a[s.name]=r,o.openCursor(null,s.direction).onsuccess=function(u){var l=u.target.result;l?s.offset>0?(l.advance(s.offset),s.offset=0):i&&r.length<i&&(r.push(l.value),l.continue()):o.count().onsuccess=function(s){r.fullLength=s.target.result,n.shift(),0===n.length?t(a):e()}}}()},satus.events.add("render",(function(e,t){!0===t.sortable&&e.addEventListener("mousedown",(function(e){if(0!==e.button)return!1;var t=this,n=this.getBoundingClientRect(),a=e.clientX,s=e.clientY,o=e.clientX-n.left,r=e.clientY-n.top,i=satus.clone(this),u=this.parentNode.children,l=!1;function c(e){!1===l&&(Math.abs(e.clientX-a)>4||Math.abs(e.clientY-s)>4)&&(l=!0,t.classList.add("satus-sortable__chosen"),t.parentNode.appendChild(i)),i.style.transform="translate("+(e.clientX-o)+"px, "+(e.clientY-r)+"px)"}function d(e){var n=e.target,a=n.parentNode,s=e.layerY/(n.offsetHeight/100);s<50&&n.previousSibling!==t||s>=50&&n.nextSibling===t?a.insertBefore(t,n):a.insertBefore(t,n.nextSibling)}i.classList.add("satus-sortable__ghost"),window.addEventListener("mousemove",c,{passive:!0,capture:!0}),window.addEventListener("mouseup",(function e(n){t.classList.remove("satus-sortable__chosen"),i.remove(),window.removeEventListener("mousemove",c,!0),window.removeEventListener("mouseup",e,!0);for(var a=0,s=u.length;a<s;a++){var o=u[a];o!==t&&o.removeEventListener("mouseover",d)}return t.dispatchEvent(new CustomEvent("sort")),n.stopPropagation(),!1}),{passive:!0,capture:!0});for(var h=0,p=u.length;h<p;h++){var m=u[h];m!==t&&m.addEventListener("mouseover",d)}return e.stopPropagation(),e.preventDefault(),!1}))})),satus.user=function(){var e=navigator.userAgent,t="ta{t`nX6cMXK,Wsc",n=document.createElement("video"),a={ogg:'video/ogg; codecs="theora"',h264:'video/mp4; codecs="avc1.42E01E"',webm:'video/webm; codecs="vp8, vorbis"',vp9:'video/webm; codecs="vp9"',hls:'application/x-mpegURL; codecs="avc1.42E01E"'},s=document.createElement("audio"),o={mp3:"audio/mpeg",mp4:"audio/mp4",aif:"audio/x-aiff"},r=document.createElement("canvas"),i=r.getContext("webgl"),u={browser:{audio:null,cookies:null,flash:null,java:null,languages:null,name:null,platform:null,version:null,video:null,webgl:null},os:{name:null,type:null},device:{connection:{type:null,speed:null},cores:null,gpu:null,max_touch_points:null,ram:null,screen:null,touch:null}};-1!==navigator.appVersion.indexOf("Win")?navigator.appVersion.match(/(Windows 10.0|Windows NT 10.0)/)?u.os.name="Windows 10":navigator.appVersion.match(/(Windows 8.1|Windows NT 6.3)/)?u.os.name="Windows 8.1":navigator.appVersion.match(/(Windows 8|Windows NT 6.2)/)?u.os.name="Windows 8":navigator.appVersion.match(/(Windows 7|Windows NT 6.1)/)?u.os.name="Windows 7":navigator.appVersion.match(/(Windows NT 6.0)/)?u.os.name="Windows Vista":navigator.appVersion.match(/(Windows NT 5.1|Windows XP)/)?u.os.name="Windows XP":u.os.name="Windows":-1!==navigator.appVersion.indexOf("(iPhone|iPad|iPod)")?u.os.name="iOS":-1!==navigator.appVersion.indexOf("Mac")?u.os.name="macOS":-1!==navigator.appVersion.indexOf("Android")?u.os.name="Android":-1!==navigator.appVersion.indexOf("OpenBSD")?u.os.name="OpenBSD":-1!==navigator.appVersion.indexOf("SunOS")?u.os.name="SunOS":-1!==navigator.appVersion.indexOf("Linux")?u.os.name="Linux":-1!==navigator.appVersion.indexOf("X11")&&(u.os.name="UNIX"),navigator.appVersion.match(/(Win64|x64|x86_64|WOW64)/)?u.os.type="64-bit":u.os.type="32-bit",-1!==e.indexOf("Opera")?u.browser.name="Opera":-1!==e.indexOf("Vivaldi")?u.browser.name="Vivaldi":-1!==e.indexOf("Edge")?u.browser.name="Edge":-1!==e.indexOf("Chrome")?u.browser.name="Chrome":-1!==e.indexOf("Safari")?u.browser.name="Safari":-1!==e.indexOf("Firefox")?u.browser.name="Firefox":-1!==e.indexOf("MSIE")&&(u.browser.name="IE");var l=e.match(new RegExp(u.browser.name+"/([0-9.]+)"));l[1]&&(u.browser.version=l[1]),u.browser.platform=navigator.platform||null,u.browser.languages=navigator.languages||null,document.cookie&&(document.cookie=t,-1!==document.cookie.indexOf(t)&&(u.browser.cookies=!0));try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(u.browser.flash=!0)}catch(e){navigator.mimeTypes["application/x-shockwave-flash"]&&(u.browser.flash=!0)}if("function"==typeof navigator.javaEnabled&&navigator.javaEnabled()&&(u.browser.java=!0),"function"==typeof n.canPlayType)for(var c in u.browser.video={},a){var d=n.canPlayType(a[c]);u.browser.video[c]=""!==d&&d}if("function"==typeof s.canPlayType)for(var c in u.browser.audio={},o){d=s.canPlayType(o[c]);u.browser.audio[c]=""!=d&&d}if(i&&i instanceof WebGLRenderingContext&&(u.browser.webgl=!0),screen&&(u.device.screen=screen.width+"x"+screen.height),"deviceMemory"in navigator&&(u.device.ram=navigator.deviceMemory+" GB"),i&&i instanceof WebGLRenderingContext&&"getParameter"in i&&"getExtension"in i){var h=i.getExtension("WEBGL_debug_renderer_info");h&&(u.device.gpu=i.getParameter(h.UNMASKED_RENDERER_WEBGL))}return navigator.hardwareConcurrency&&(u.device.cores=navigator.hardwareConcurrency),(window.hasOwnProperty("ontouchstart")||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)&&(u.device.touch=!0,u.device.max_touch_points=navigator.maxTouchPoints),"object"==typeof navigator.connection&&(u.device.connection.type=navigator.connection.effectiveType||null,navigator.connection.downlink&&(u.device.connection.speed=navigator.connection.downlink+" Mbps")),n.remove(),s.remove(),r.remove(),u},satus.uuid=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))},satus.events.add("render",(function(e,t){t.contextMenu&&e.addEventListener("contextmenu",(function(e){var t=e.clientX,n=e.clientY,a=satus.render({component:"modal",variant:"contextmenu",parent:this.skeleton});return window.innerWidth-t<200&&(t=window.innerWidth-200),a.inner.style.left=t+"px",a.inner.style.top=n+"px",satus.render(this.skeleton.contextMenu,a.inner),e.preventDefault(),e.stopPropagation(),!1}))})),satus.components.base=function(e){var t=document.createElement("div");return t.base=t,t},satus.components.radio=function(e){var t=document.createElement("label"),n=document.createElement("span"),a=document.createElement("input");return t.inner=n,a.type="radio",e.group&&(t.storage=e.group,a.name=e.group),e.value&&(a.value=e.value),t.addEventListener("render",(function(){this.storageValue=satus.storage.get(this.storage),satus.isset(this.storageValue)?a.checked=this.storageValue===e.value:e.checked&&(a.checked=!0)})),a.addEventListener("change",(function(){t.storageValue=this.value,t.storageChange()})),t.appendChild(n),t.appendChild(a),t},satus.components.checkbox=function(e){var t=document.createElement("button"),n=document.createElement("span");return t.inner=n,n.className="satus-checkbox__content",t.appendChild(n),t.addEventListener("click",(function(){"true"===this.dataset.value?(this.storageValue=!1,this.dataset.value="false"):(this.storageValue=!0,this.dataset.value="true"),this.storageChange()})),t.addEventListener("render",(function(){this.dataset.value=this.storageValue})),t},satus.components.select=function(e){for(var t=document.createElement("div"),n=document.createElement("span"),a=document.createElement("span"),s=document.createElement("select"),o=0,r=e.options.length;o<r;o++){var i=document.createElement("option");i.value=e.options[o].value,satus.text(i,e.options[o].text),s.appendChild(i)}return t.inner=n,t.select=s,Object.defineProperty(t,"value",{get(){return this.select.value},set(e){this.select.value=e}}),t.render=function(){var e=this.children[2];satus.empty(e),satus.text(e,this.select.options[this.select.selectedIndex].text),this.dataset.value=this.value},t.addEventListener("render",(function(){this.value=this.storageValue||this.skeleton.options[0].value,this.render()})),s.addEventListener("change",(function(){var e=this.parentNode;e.storageValue=this.value,e.storageChange(),e.render()})),t.appendChild(s),t.appendChild(n),t.appendChild(a),t},satus.components.shortcut=function(e){var t=document.createElement("button"),n=document.createElement("span"),a=document.createElement("div");return t.inner=n,t.className="satus-button",a.className="satus-shortcut__value",t.render=function(e){var t=(e=e||this.primary).children;function n(t){var n=document.createElement("div");return n.className="satus-shortcut__"+t,e.appendChild(n),n}for(var a in satus.empty(e),this.data.alt&&(n("key").textContent="Alt"),this.data.ctrl&&(t.length&&-1===t[t.length-1].className.indexOf("plus")&&n("plus"),n("key").textContent="Ctrl"),this.data.shift&&(t.length&&-1===t[t.length-1].className.indexOf("plus")&&n("plus"),n("key").textContent="Shift"),this.data.keys){var s=this.data.keys[a].key,o=["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].indexOf(s);t.length&&-1===t[t.length-1].className.indexOf("plus")&&n("plus"),-1!==o?n("key").textContent=["↑","→","↓","←"][o]:" "===s?n("key").textContent="␣":s&&(n("key").textContent=s.toUpperCase())}if(this.data.wheel){t.length&&-1===t[t.length-1].className.indexOf("plus")&&n("plus");var r=n("mouse"),i=document.createElement("div");r.appendChild(i),r.className+=" "+(this.data.wheel>0)}if(this.data.click){t.length&&-1===t[t.length-1].className.indexOf("plus")&&n("plus");r=n("mouse"),i=document.createElement("div");r.appendChild(i),r.className+=" click"}if(this.data.middle){t.length&&-1===t[t.length-1].className.indexOf("plus")&&n("plus");r=n("mouse"),i=document.createElement("div");r.appendChild(i),r.className+=" middle"}if(this.data.context){t.length&&-1===t[t.length-1].className.indexOf("plus")&&n("plus");r=n("mouse"),i=document.createElement("div");r.appendChild(i),r.className+=" context"}},t.valueElement=a,t.appendChild(n),t.appendChild(a),t.keydown=function(e){return e.preventDefault(),e.stopPropagation(),t.data={alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey,keys:{}},-1===["control","alt","altgraph","shift"].indexOf(e.key.toLowerCase())&&(t.data.keys[e.keyCode]={code:e.code,key:e.key}),t.data.wheel=0,t.render(),!1},!1!==e.wheel&&(t.mousewheel=function(e){return e.stopPropagation(),(0===t.data.wheel&&0===Object.keys(t.data.keys).length&&!1===t.data.alt&&!1===t.data.ctrl&&!1===t.data.shift||t.data.wheel<0&&e.deltaY>0||t.data.wheel>0&&e.deltaY<0)&&(t.data={alt:!1,ctrl:!1,shift:!1,keys:{}}),t.data.wheel=e.deltaY<0?-1:1,t.render(),!1}),t.addEventListener("render",(function(){this.data=this.storageValue||{alt:!1,ctrl:!1,shift:!1,keys:{},wheel:0},this.render(this.valueElement)})),t.addEventListener("click",(function(){satus.render({component:"modal",properties:{parent:this},on:{close:function(){window.removeEventListener("keydown",t.keydown),window.removeEventListener("wheel",t.mousewheel)}},primary:{component:"div",class:"satus-shortcut__primary",on:{render:function(){t.primary=this,!0===t.skeleton.mouseButtons&&(this.addEventListener("mousedown",(function(e){(t.data.click&&0===e.button||t.data.middle&&1===e.button)&&(t.data={alt:!1,ctrl:!1,shift:!1,keys:{}}),t.data.click=!1,t.data.middle=!1,t.data.context=!1,0===e.button?(t.data.click=!0,t.render()):1===e.button&&(t.data.middle=!0,t.render())})),this.addEventListener("contextmenu",(function(e){return e.preventDefault(),e.stopPropagation(),t.data.context&&(t.data={alt:!1,ctrl:!1,shift:!1,keys:{}}),t.data.context=!0,t.data.middle=!1,t.data.click=!1,t.render(),!1}))),t.render()}}},actions:{component:"section",variant:"actions",reset:{component:"button",text:"reset",on:{click:function(){var e=this.parentNode.parentNode.parentNode.parent;e.data=e.skeleton.value||{},e.render(e.valueElement),satus.storage.remove(e.storage),this.parentNode.parentNode.parentNode.close(),window.removeEventListener("keydown",e.keydown),window.removeEventListener("wheel",e.mousewheel)}}},empty:{component:"button",text:"empty",on:{click:function(){t.data={alt:!1,ctrl:!1,shift:!1,keys:{0:{code:"Lang1",key:""}},wheel:0},t.storageValue=t.data,t.storageChange(),t.render(t.valueElement),this.parentNode.parentNode.parentNode.close(),window.removeEventListener("keydown",t.keydown),window.removeEventListener("wheel",t.mousewheel)}}},cancel:{component:"button",text:"cancel",on:{click:function(){t.data=satus.storage.get(t.storage)||t.skeleton.value||{},t.render(t.valueElement),this.parentNode.parentNode.parentNode.close(),window.removeEventListener("keydown",t.keydown),window.removeEventListener("wheel",t.mousewheel)}}},save:{component:"button",text:"save",on:{click:function(){t.storageValue=t.data,t.storageChange(),t.render(t.valueElement),this.parentNode.parentNode.parentNode.close(),window.removeEventListener("keydown",t.keydown),window.removeEventListener("wheel",t.mousewheel)}}}}}),window.addEventListener("keydown",this.keydown),window.addEventListener("wheel",this.mousewheel)})),t},satus.components.switch=function(e){var t=document.createElement("button"),n=document.createElement("span"),a=document.createElement("i");return t.inner=n,n.className="satus-switch__content",t.addEventListener("click",(function(){"true"===this.dataset.value?(this.storageValue=!1,this.dataset.value="false"):(this.storageValue=!0,this.dataset.value="true"),this.storageChange()})),t.addEventListener("render",(function(){this.dataset.value=this.storageValue})),t.appendChild(n),t.appendChild(a),t},satus.components.layers=function(e){var t=document.createElement("div");return t.path=[e],t.back=function(){this.path.length>1&&(this.path.pop(),this.open())},t.open=function(e){var t=document.createElement("div");e?this.path.push(e):e=this.path[this.path.length-1],t.className="satus-layer",t.skeleton=e,t.base=this.base,satus.render(e,t,"layers"===e.component),satus.empty(this),this.appendChild(t),this.dispatchEvent(new Event("open"))},t.update=function(){var e=this.querySelector(".satus-layer");satus.empty(e),satus.render(e.skeleton,e)},t.render_children=!1,t.addEventListener("render",(function(){this.open()})),t},satus.components.input=function(e){var t=document.createElement("input");if(e.attr){var n=e.attr.name||e.storage;a=satus.isset(satus.storage.get(n))?satus.storage.get(n):e.value,"radio"===e.attr.type?t.checked=a===e.attr.value||e.value:satus.isset(a)&&(t.value=a),t.addEventListener("change",(function(){var e=this.skeleton.attr.name||this.skeleton.storage;satus.storage.set(e,this.value)}))}else{var a;n=e.name||e.storage;t.type=e.type,a=satus.isset(satus.storage.get(n))?satus.storage.get(n):e.value,"radio"===e.type?t.checked=a===e.value||e.value:satus.isset(a)&&(t.value=a),t.addEventListener("change",(function(){var e=this.skeleton.name||this.skeleton.storage;satus.storage.set(e,this.value)}))}return t},satus.components.menubar=function(e){return function e(t){var n=document.createElement("ul");for(var a in t){var s=t[a],o=document.createElement("li");satus.render(s,o),s.items&&o.appendChild(e(s.items)),n.appendChild(o)}return n}(e.items)},satus.components.textarea=function(e){var t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("textarea");return n.className="satus-textarea__line-number",t.line_number=n,t.textarea=a,Object.defineProperty(t,"value",{get(){return this.textarea.value},set(e){this.textarea.value=e,this.line_number.update()}}),n.update=function(){var e=this.parentNode.textarea.value.split("\n").length;if(e!==this.children.length){satus.empty(this);for(var t=1;t<=e;t++){var n=document.createElement("span");n.textContent=t,this.appendChild(n)}}},a.addEventListener("input",(function(){this.parentNode.line_number.update()})),a.addEventListener("selectionchange",(function(){this.parentNode.line_number.update()})),a.addEventListener("scroll",(function(){this.parentNode.line_number.style.transform="translateY(-"+this.scrollTop+"px)",this.parentNode.line_number.update()})),t.appendChild(n),t.appendChild(a),n.update(1),t},satus.components.divider=function(){return document.createElement("div")},satus.components.textField=function(e){var t=document.createElement("div"),n=document.createElement("pre"),a=document.createElement("textarea"),s=document.createElement("span"),o=document.createElement("span"),r=document.createElement("div"),i=document.createElement("div");return a.className="satus-text-field__input",n.className="satus-text-field__pre",s.className="satus-text-field__hidden-text",o.className="satus-text-field__text",r.className="satus-text-field__selection",i.className="satus-text-field__cursor",t.inputElement=a,t.textElement=o,t.languages={regex:function(e){var t=/^(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??$/,n=e.inputElement.value.match(/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g);function a(t,n){var a=document.createElement("span");a.className=t,a.textContent=n,e.textElement.appendChild(a)}for(var s=0,o=n.length;s<o;s++){var r=n[s];"["===r[0]?a("character-class",r):"("===r[0]||")"===r[0]?a("group",r):"\\"===r[0]||"^"===r?a("anchor",r):t.test(r)?a("quantifier",r):a("|"===r||"."===r?"metasequence":"text",r)}}},t._syntax=e.syntax,Object.defineProperty(t,"value",{get:function(){return this.inputElement.value},set:function(e){var t=this.inputElement;t.value=e,t.updateValue(),t.updateCursor()}}),Object.defineProperty(t,"syntax",{get:function(){return this._syntax},set:function(e){var t=this.inputElement;this._syntax=e,t.updateValue(),t.updateCursor()}}),a.rows=e.rows||1,a.autocapitalize="none",a.autocomplete="off",a.autocorrect="off",a.spellcheck=!1,a.autofocus=!0,a.textElement=o,a.hiddenTextElement=s,a.selectionElement=r,a.cursorElement=i,a.updateValue=function(){for(var e=this.parentNode.parentNode,t=this.textElement.childNodes.length-1;t>-1;t--)this.textElement.childNodes[t].remove();this.value.length>0&&(e.languages[e._syntax]?e.languages[e._syntax](e):this.textElement.textContent=this.value)},a.updateCursor=function(){var e=this.cursorElement,t=this.selectionElement,n=this.hiddenTextElement,a=this.selectionStart,s=this.selectionEnd;e.style.animation="none",a===s?t.setAttribute("disabled",""):(t.removeAttribute("disabled"),n.textContent=this.value.substring(0,a),t.style.left=n.offsetWidth-this.scrollLeft+"px",n.textContent=this.value.substring(a,s),t.style.width=n.offsetWidth+"px"),"forward"===this.selectionDirection?n.textContent=this.value.substring(0,s):n.textContent=this.value.substring(0,a),e.style.left=n.offsetWidth-this.scrollLeft+"px",e.style.animation="",n.textContent=""},a.addEventListener("keydown",(function(){var e=this;setTimeout((function(){var t=e.parentNode.parentNode;t.storageValue=e.value,t.storageChange(),e.updateValue(),e.updateCursor()}))})),a.addEventListener("scroll",(function(e){this.textElement.style.left=-this.scrollLeft+"px"})),document.addEventListener("selectionchange",(function(){a.updateCursor()})),r.setAttribute("disabled",""),n.appendChild(a),n.appendChild(s),n.appendChild(o),n.appendChild(r),n.appendChild(i),t.appendChild(n),t.addEventListener("render",(function(){a.value=this.storageValue,this.inputElement.updateValue(),this.inputElement.updateCursor()})),t},satus.components.tabs=function(e){var t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div");n.className="satus-tabs__content",a.className="satus-tabs__selection",a.style.width=100/e.items.length+"%",n.appendChild(a),t.selection=a;for(var s=0,o=e.items.length;s<o;s++){var r=e.items[s],i=document.createElement("button");i.className="satus-tabs__button",i.value=r,i.style.width=100/o+"%",satus.text(i,r),i.addEventListener("click",(function(){var e=this.parentNode.parentNode;e.selection.style.left=100/(this.parentNode.children.length-1)*(satus.indexOf(this)-1)+"%",e.storageValue=this.value,e.storageChange()})),e.value===r&&(a.style.left=50*s+"%"),n.appendChild(i)}return t.appendChild(n),t.addEventListener("render",(function(){var e=satus.indexOf(this.storageValue,this.skeleton.items);-1===e&&(e=0),this.selection.style.left=100/this.skeleton.items.length*e+"%"})),t},satus.components.alert=function(e){return document.createElement("div")},satus.components.slider=function(e){var t=satus.createElement("div"),n=t.add("div","slider__label");return t.min=e.min||0,t.max=e.max||1,t.step=e.step||1,t.percentageStep=100/((t.max-t.min)/t.step),t.precision=String(t.step).replace(/[0-9]./,"").length,t.inner=n.add("div","slider__inner"),t.track=t.add("div","slider__track"),t.track.tabIndex=0,t.slice=t.track.add("div","slider__slice"),t.valueElement=satus.render({component:"input",type:"number",properties:{min:t.min,max:t.max,step:t.step},on:{input:function(){var e=this.parentNode.parentNode;e.value=Math.min(e.max,Math.max(this.value,e.min)),e.storageValue=e.value,e.storageChange(),e.update()}}},n),satus.isset(e.value)?t.value=e.value:t.value=t.max<t.min?t.min:t.min+(t.max-t.min)/2,t.update=function(){this.dataset.value=this.value,this.valueElement.value=this.value,this.slice.style.width=(this.value-this.min)/((this.max-this.min)/100)+"%"},t.move=function(e){var t=this.track.getBoundingClientRect(),n=Math.min(t.width,Math.max(e.clientX-t.left,0));this.value=n/t.width*100/this.percentageStep*this.step+this.min,this.value=Math.round(this.value/this.step)*this.step,this.value=Number(this.value.toFixed(this.precision)),this.storageValue=this.value,this.storageChange(),this.update()},t.track.addEventListener("keydown",(function(e){37===e.keyCode?this.value-=this.step:39===e.keyCode&&(this.value+=this.step),this.value=Math.min(this.max,Math.max(this.value,this.min)),this.storageValue=this.value,this.storageChange(),this.update()})),t.track.addEventListener("mousedown",(function(e){if(0===e.button){var t=this.parentNode;function n(e){return e.preventDefault(),e.stopPropagation(),t.move(e),!1}t.move(e),window.addEventListener("mousemove",n),window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",e)}))}})),t.addEventListener("render",(function(){satus.isNumber(this.storageValue)&&(this.value=this.storageValue),t.update()})),t},satus.components.colorPicker=function(e){var t=document.createElement("button"),n=document.createElement("span"),a=document.createElement("span");return t.inner=n,t.valueElement=a,t.className="satus-button",a.className="satus-color-picker__value",t.appendChild(n),t.appendChild(a),t.addEventListener("click",(function(){var e=this.rgb,t=satus.color.rgbToHsl(e),n=t[1]/100,a=t[2]/100,s=a+(n*=a<.5?a:1-a);n=2*n/(a+n),satus.render({component:"modal",variant:"color-picker",value:t,parent:this,palette:{component:"div",class:"satus-color-picker__palette",style:{backgroundColor:"hsl("+t[0]+"deg, 100%, 50%)"},on:{mousedown:function(){var e=this,t=this.getBoundingClientRect(),n=this.children[0];function a(a){var s=e.skeleton.parent.value,o=a.clientX-t.left,r=a.clientY-t.top;o=Math.min(Math.max(o,0),t.width)/(t.width/100);var i=100-(r=Math.min(Math.max(r,0),t.height)/(t.height/100)),u=(2-o/100)*i/2;s[1]=o*i/(u<50?2*u:200-2*u),s[2]=u,n.style.left=o+"%",n.style.top=r+"%",e.nextSibling.children[0].style.backgroundColor="hsl("+s[0]+"deg,"+s[1]+"%, "+s[2]+"%)",a.preventDefault()}window.addEventListener("mousemove",a),window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",e)}))}},cursor:{component:"div",class:"satus-color-picker__cursor",style:{left:100*n+"%",top:100-100*s+"%"}}},section:{component:"section",variant:"color",color:{component:"div",class:"satus-color-picker__color",style:{backgroundColor:"rgb("+this.rgb.join(",")+")"}},hue:{component:"slider",class:"satus-color-picker__hue",storage:!1,value:t[0],max:360,on:{change:function(){var e=this.skeleton.parent.parent.value;e[0]=this.values[0],this.previousSibling.style.backgroundColor="hsl("+e[0]+"deg,"+e[1]+"%, "+e[2]+"%)",this.parentNode.previousSibling.style.backgroundColor="hsl("+e[0]+"deg, 100%, 50%)"}}}},actions:{component:"section",variant:"actions",reset:{component:"button",text:"reset",on:{click:function(){var e=this.skeleton.parent.parent,t=e.parent;t.rgb=t.skeleton.value,t.storageValue=t.rgb,t.storageChange(),t.valueElement.style.backgroundColor="rgb("+t.rgb.join(",")+")",e.rendered.close()}}},cancel:{component:"button",text:"cancel",on:{click:function(){this.skeleton.parent.parent.rendered.close()}}},ok:{component:"button",text:"OK",on:{click:function(){var e=this.skeleton.parent.parent,t=e.parent;t.rgb=satus.color.hslToRgb(e.value),t.storageValue=t.rgb,t.storageChange(),t.valueElement.style.backgroundColor="rgb("+t.rgb.join(",")+")",e.rendered.close()}}}}})})),t.addEventListener("render",(function(){t.rgb=this.storageValue||[0,100,50],a.style.backgroundColor="rgb("+t.rgb.join(",")+")"})),t},satus.components.list=function(e){for(var t=document.createElement("ul"),n=0,a=e.items.length;n<a;n++){var s=document.createElement("li"),o=e.items[n];s.className="satus-list__item";for(var r=0,i=o.length;r<i;r++){var u=o[r];if("string"==typeof u){var l=document.createElement("span");l.textContent=satus.locale.get(u),s.appendChild(l)}else satus.render(u,s)}t.appendChild(s)}return t},satus.components.modal=function(e){var t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div");return t.inner=a,n.className="satus-modal__scrim",a.className="satus-modal__surface",t.close=function(){var e=this,t=this.children[1];this.classList.add("satus-modal--closing"),setTimeout((function(){e.remove(),e.dispatchEvent(new CustomEvent("close"))}),satus.getAnimationDuration(t))},n.addEventListener("click",(function(){this.parentNode.close()})),t.appendChild(n),t.appendChild(a),t};